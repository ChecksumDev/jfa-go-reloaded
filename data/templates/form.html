<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" type="text/css" href="{{ .cssFile }}">
        {{ template "header.html" . }} 
        <style>
            .pageContainer {
                margin: 5% 20% 5% 20%;
            }
            @media (max-width: 1100px) {
                .pageContainer {
                    margin: 2%;
                }
            }
            .contactBox {
                color: grey;
            }
            #container {
                margin-top: 5%;
                margin-bottom: 5%;
            }
        </style>
        <title>{{ .lang.pageTitle }}</title>
    </head>
    <body>
        <div class="modal fade" id="successBox" tabindex="-1" role="dialog" aria-labelledby="successBox" aria-hidden="true" data-backdrop="static">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="successHeader">{{ .lang.successHeader }}</h5>
                    </div>
                    <div class="modal-body" id="successBody">
                        <p>{{ .successMessage }}</p>
                    </div>
                    <div class="modal-footer">
                        <a href="{{ .jfLink }}" class="btn btn-primary">{{ .lang.successContinueButton }}</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="pageContainer">
            <h1>
                {{ .lang.createAccountHeader }}
            </h1>
            <p>{{ .helpMessage }}</p>
            <p class="contactBox">{{ .contactMessage }}</p>
            <div class="container" id="container">
                <div class="row" id="cardContainer">
                    <div class="col-sm">
                        <div class="card mb-3">
                            <div class="card-header">{{ .lang.accountDetails }}</div>
                            <div class="card-body">
                                <form action="#" method="POST" id="accountForm">
                                    <div class="form-group">
                                        <label for="inputEmail">{{ .lang.emailAddress }}</label>
                                        <input type="email" class="form-control" id="{{ if .username }}inputEmail{{ else }}inputUsername{{ end }}" name="{{ if .username }}email{{ else }}username{{ end }}" placeholder="{{ .lang.emailAddress }}" value="{{ .email }}" required>
                                    </div>
                                    {{ if .username }}
                                    <div class="form-group">
                                        <label for="inputUsername">{{ .lang.username }}</label>
                                        <input type="username" class="form-control" id="inputUsername" name="username" placeholder="{{ .lang.username }}" required>
                                    </div>
                                    {{ end }}
                                    <div class="form-group">
                                        <label for="inputPassword">{{ .lang.password }}</label>
                                        <input type="password" class="form-control" id="inputPassword" name="password" placeholder="{{ .lang.password }}" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputPassword">{{ .lang.reEnterPassword }}</label>
                                        <input type="password" class="form-control" id="reInputPassword" onkeyup="window.checkPassword()" placeholder="{{ .lang.password }}" required>
                                    </div>
                                    <div class="btn-group" role="group" aria-label="Button & Error" id="errorBox" style="margin-top: 1rem;">
                                        <button type="submit" class="btn btn-outline-primary" id="submitButton">
                                            <span id="createAccount">{{ .lang.createAccountButton }}</span>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    {{ if .validate }}
                    <div class="col-sm" id="requirementBox">
                        <div class="card mb-3 requirementBox">
                            <div class="card-header">{{ .lang.passwordRequirementsHeader }}</div>
                            <div class="card-body">
                                <ul class="list-group">
                                    {{ range $key, $value := .requirements }}
                                    <li id="{{ $key }}" min="{{ $value }}" class="list-group-item list-group-item-danger">
                                        <div></div>
                                    </li>
                                    {{ end }}
                                </ul>
                            </div>
                        </div>
                    </div>
                    {{ end }}
                </div>
            </div>
        </div>
        <script>
            window.validationStrings = {{ .lang.validationStrings }};
        </script>
        {{ template "form-base" . }}
    </body>
</html>

